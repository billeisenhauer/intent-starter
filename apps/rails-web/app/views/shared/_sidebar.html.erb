<%# Household Members %>
<div>
  <p class="vhs-label" style="margin-bottom: var(--space-md);">Household</p>
  <div class="vhs-members">
    <% if defined?(@members) && @members.any? %>
      <% @members.each_with_index do |member, index| %>
        <div class="vhs-member <%= 'vhs-member--active' if index == 0 %>" data-member-id="<%= member.id %>">
          <div class="vhs-member__avatar" style="<%= avatar_gradient(index) %>">
            <%= member.name.first.upcase %>
          </div>
          <div class="vhs-member__info">
            <div class="vhs-member__name"><%= member.name %></div>
            <div class="vhs-member__stats"><%= member.fully_watched_titles.count %> WATCHED</div>
          </div>
        </div>
      <% end %>
    <% else %>
      <div class="vhs-member">
        <div class="vhs-member__avatar">?</div>
        <div class="vhs-member__info">
          <div class="vhs-member__name">No members yet</div>
          <div class="vhs-member__stats">ADD A MEMBER</div>
        </div>
      </div>
    <% end %>
  </div>
</div>

<%# Navigation %>
<nav class="vhs-nav">
  <%= link_to root_path, class: "vhs-nav__item vhs-nav__item--active" do %>
    <span class="vhs-nav__icon">▶</span>
    Recommendations
  <% end %>
  <%= link_to "#", class: "vhs-nav__item" do %>
    <span class="vhs-nav__icon">◉</span>
    Watch History
  <% end %>
  <%= link_to "#", class: "vhs-nav__item" do %>
    <span class="vhs-nav__icon">$</span>
    Subscriptions
  <% end %>
  <%= link_to "#", class: "vhs-nav__item" do %>
    <span class="vhs-nav__icon">⚙</span>
    Settings
  <% end %>
</nav>

<%# Quick Stats %>
<div style="margin-top: auto; padding-top: var(--space-xl); border-top: 1px solid var(--vhs-light);">
  <p class="vhs-label" style="margin-bottom: var(--space-md);">Monthly Spend</p>
  <% if defined?(@subscriptions) && @subscriptions.any? %>
    <div class="vhs-counter--amber" style="font-size: 1.75rem;">
      <%= number_to_currency(@subscriptions.sum(:monthly_cost)) %>
    </div>
    <p style="font-family: var(--font-display); font-size: 0.8rem; color: var(--text-muted); margin-top: var(--space-sm); letter-spacing: 0.1em;">
      <%= @subscriptions.count %> ACTIVE SERVICE<%= @subscriptions.count == 1 ? '' : 'S' %>
    </p>
  <% else %>
    <div class="vhs-counter--amber" style="font-size: 1.75rem;">$0.00</div>
    <p style="font-family: var(--font-display); font-size: 0.8rem; color: var(--text-muted); margin-top: var(--space-sm); letter-spacing: 0.1em;">
      NO ACTIVE SERVICES
    </p>
  <% end %>
</div>
